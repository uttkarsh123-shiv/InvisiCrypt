<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InvisiCrypt - Text Steganography</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ”’ InvisiCrypt</h1>
            <p class="subtitle">Hide and extract secret messages using text steganography</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" data-tab="hide">Hide Message</button>
            <button class="tab-btn" data-tab="extract">Extract Message</button>
        </div>

        <!-- Hide Tab -->
        <div class="tab-content active" id="hide-tab">
            <div class="form-group">
                <label for="coverText">Cover Text <span class="required">*</span></label>
                <textarea 
                    id="coverText" 
                    placeholder="Enter the innocent-looking cover text here. Make sure it's long enough to hide your secret message..."
                    rows="6"
                ></textarea>
                <div class="char-count">
                    <span id="coverCount">0</span> / 5000 characters
                </div>
            </div>

            <div class="form-group">
                <label for="secretText">Secret Message <span class="required">*</span></label>
                <textarea 
                    id="secretText" 
                    placeholder="Enter the secret message you want to hide..."
                    rows="4"
                ></textarea>
                <div class="char-count">
                    <span id="secretCount">0</span> / 500 characters
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="algo">Encryption Algorithm <span class="required">*</span></label>
                    <select id="algo">
                        <option value="aes">AES-256 (Recommended)</option>
                        <option value="caesar">Caesar Cipher</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="key">Encryption Key <span class="required">*</span></label>
                    <input 
                        type="text" 
                        id="key" 
                        placeholder="Enter encryption key"
                        autocomplete="off"
                    >
                </div>
            </div>

            <button class="btn btn-primary" id="hideBtn">Hide Message</button>

            <div id="hideResult" class="result-box" style="display: none;">
                <h3>Stego Text (Copy this to extract later):</h3>
                <div class="result-content">
                    <textarea id="stegoOutput" readonly rows="6"></textarea>
                    <button class="btn btn-secondary" id="copyStegoBtn">Copy to Clipboard</button>
                </div>
            </div>
        </div>

        <!-- Extract Tab -->
        <div class="tab-content" id="extract-tab">
            <div class="form-group">
                <label for="stegoText">Stego Text <span class="required">*</span></label>
                <textarea 
                    id="stegoText" 
                    placeholder="Paste the stego text here (the text that contains the hidden message)..."
                    rows="8"
                ></textarea>
                <div style="margin-top:8px; display:flex; gap:8px; align-items:center;">
                    <button class="btn btn-secondary" id="revealMarkersBtn">Reveal markers</button>
                    <small id="markerCount" style="color:#666;">Markers: 0</small>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="extractAlgo">Encryption Algorithm <span class="required">*</span></label>
                    <select id="extractAlgo">
                        <option value="aes">AES-256</option>
                        <option value="caesar">Caesar Cipher</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="extractKey">Encryption Key <span class="required">*</span></label>
                    <input 
                        type="text" 
                        id="extractKey" 
                        placeholder="Enter the same key used to hide"
                        autocomplete="off"
                    >
                </div>
            </div>

            <button class="btn btn-primary" id="extractBtn">Extract Message</button>

            <div id="extractResult" class="result-box" style="display: none;">
                <h3>Extracted Secret Message:</h3>
                <div class="result-content">
                    <textarea id="secretOutput" readonly rows="4"></textarea>
                    <button class="btn btn-secondary" id="copySecretBtn">Copy to Clipboard</button>
                </div>
            </div>
            <div id="revealBox" class="result-box" style="display: none; margin-top:12px;">
                <h3>Stego Text â€” Markers Revealed</h3>
                <div class="result-content">
                    <textarea id="revealedOutput" readonly rows="6"></textarea>
                </div>
            </div>
        </div>

        <div id="errorBox" class="error-box" style="display: none;"></div>
        <div id="loadingSpinner" class="loading-spinner" style="display: none;">
            <div class="spinner"></div>
            <p>Processing...</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

